ğŸ§  State Machine for Switching Between Maps

Your state machine decides when to use global or local mapping.
ğŸŒ Global Mapping State

âœ”ï¸ Triggers when:

    New GPS location reached (beyond local map range).
    RealSense scans unseen terrain.
    âœ”ï¸ Updates:
    Adds sensor data to the hash table.
    Increases resolution for frequently visited areas.

ğŸ  Local Mapping State

âœ”ï¸ Triggers when:

    Rover is actively moving within the 10m sensor range.
    A* path planning needs to navigate fine obstacles.
    âœ”ï¸ Updates:
    Replaces old quadtree nodes with fresh sensor scans.
    Ensures smooth real-time motion.

ğŸš¦ Full State Machine Breakdown

1ï¸âƒ£ Startup State: Initialize global hash map and empty quadtree.
2ï¸âƒ£ Global Mapping Mode (if in a new area):

    Fetch old terrain data from the hash map.
    Merge new sensor data (e.g., height, obstacles).
    Update the hash table with new cost values.
    
3ï¸âƒ£ Local Mapping Mode (if within RealSense range):
    Clear old quadtree data.
    Fill quadtree with new 10m scan.
    Subdivide areas with obstacles.
    
4ï¸âƒ£ Path Planning Mode:
    If far target â†’ Use A on the hash map*.
    If near target â†’ Use A inside quadtree*.
    If unexpected obstacle â†’ Replan with quadtree updates.
    
5ï¸âƒ£ Loop back to Global Mapping when moving outside 10m.


â³ Computational Cost Analysis
ğŸ”¹ Memory Usage

    Hash Map: Low memory (only stores (x, y) keys, not the full grid).
    Quadtree: Efficient for storing fine details but resets frequently.

ğŸ”¹ Time Complexity
Algorithm	Time Complexity	Notes
A on Hash Map*	O(V log V)	Runs only on global terrain (efficient).
A on Quadtree*	O(V log V)	Runs on small 10m map (fast local updates).
Quadtree Insertion	O(log N)	Inserts obstacles dynamically.
ğŸš€ Overall Performance

âœ… Hybrid is faster than full quadtree (only local map updates).
âœ… Avoids slow RRT calculations*.
âœ… Memory-efficient global storage.
ğŸ† Final Verdict: Best for URC?

Yes! Hybrid Hash Map (Global) + Quadtree (Local) = Best of Both Worlds.

    Faster than full quadtree.
    More adaptive than just a hash map.
    Efficient real-time updates.



